# üîÑ 05. MVP User Flows (React & Inertia Patterns)

## 1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –û–Ω–±–æ—Ä–¥–∏–Ω–≥

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** –ù–æ–≤—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ (–∏–ª–∏ –≤–ø–µ—Ä–≤—ã–µ –∑–∞—à–µ–ª).
**UI:**
1.  **Login Page:** –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ñ–æ—Ä–º–∞ Devise/Authlogic, —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –≤ Tailwind.
2.  **Dashboard:** –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞.
    *   –í–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ—Ñ–µ—Å—Å–∏–π (Roadmaps).
    *   –í–∏–¥–∏—Ç –≤–∏–¥–∂–µ—Ç "–ú–æ–∏ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –¥–æ–ø—É—Å–∫–∏" (–∫—Ä–∞—Å–Ω—ã–π –∞–ª–µ—Ä—Ç).

## 2. –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ä—Ç—ã (The Core Experience)

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** –ö–ª–∏–∫–∞–µ—Ç –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É "–°–≤–∞—Ä—â–∏–∫".
**Inertia:** `GET /roadmaps/welder`
**UI (React Flow):**
1.  **Loading State:** –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–∫–µ–ª–µ—Ç–æ–Ω –∏–ª–∏ —Å–ø–∏–Ω–Ω–µ—Ä, –ø–æ–∫–∞ –≥—Ä—É–∑–∏—Ç—Å—è JSON –≥—Ä–∞—Ñ–∞ (—Ö–æ—Ç—è Inertia –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –±—ã—Å—Ç—Ä–æ).
2.  **Graph Render:** React Flow –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –¥–µ—Ä–µ–≤–æ –Ω–∞–≤—ã–∫–æ–≤.
    *   **–ó–µ–ª–µ–Ω—ã–µ —É–∑–ª—ã:** –ò–∑—É—á–µ–Ω–æ (`status: 'completed'`).
    *   **–ñ–µ–ª—Ç—ã–µ —É–∑–ª—ã:** –í –ø—Ä–æ—Ü–µ—Å—Å–µ (`status: 'in_progress'`).
    *   **–°–µ—Ä—ã–µ —É–∑–ª—ã:** –ó–∞–∫—Ä—ã—Ç–æ (`locked`), –µ—Å–ª–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–ø—Ä–µ—Ä–µ–∫–≤–∏–∑–∏—Ç—ã).
    *   **–ö—Ä–∞—Å–Ω—ã–µ —É–∑–ª—ã:** –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–π –¥–æ–ø—É—Å–∫ (`expired`).

## 3. –ò–∑—É—á–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–∞ (Sidebar Interaction)

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** –ö–ª–∏–∫–∞–µ—Ç –Ω–∞ —Å–µ—Ä—ã–π/–∂–µ–ª—Ç—ã–π —É–∑–µ–ª "Safety Basics".
**URL:** `/roadmaps/welder?skill_id=101` (Inertia `replace: true`)
**UI:**
1.  **Slide-over (Sidebar):** –°–ø—Ä–∞–≤–∞ –≤—ã–µ–∑–∂–∞–µ—Ç –ø–∞–Ω–µ–ª—å (Transition: `translate-x-0`).
2.  **Content:**
    *   –ù–∞–∑–≤–∞–Ω–∏–µ, –û–ø–∏—Å–∞–Ω–∏–µ.
    *   –°–ø–∏—Å–æ–∫ —Ä–µ—Å—É—Ä—Å–æ–≤ (—Å—Å—ã–ª–∫–∏ –Ω–∞ YouTube, PDF).
    *   –ö–Ω–æ–ø–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è: **"–ù–∞—á–∞—Ç—å –∏–∑—É—á–µ–Ω–∏–µ"** –∏–ª–∏ **"–û—Ç–º–µ—Ç–∏—Ç—å –∏–∑—É—á–µ–Ω–Ω—ã–º"**.

## 4. –°—Ü–µ–Ω–∞—Ä–∏–π: –û—Ç–º–µ—Ç–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (Optimistic UI)

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** –ù–∞–∂–∏–º–∞–µ—Ç "–û—Ç–º–µ—Ç–∏—Ç—å –∏–∑—É—á–µ–Ω–Ω—ã–º" –≤ —Å–∞–π–¥–±–∞—Ä–µ.
**Action:**
1.  **Optimistic Update:** –ö–Ω–æ–ø–∫–∞ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∑–µ–ª–µ–Ω–æ–π "–ò–∑—É—á–µ–Ω–æ". –£–∑–µ–ª –Ω–∞ –≥—Ä–∞—Ñ–µ —Ç–æ–∂–µ –∑–µ–ª–µ–Ω–µ–µ—Ç.
2.  **Inertia Request:** `router.post('/progress/101', { status: 'completed' }, { preserveScroll: true })`.
3.  **Server Response:**
    *   –£—Å–ø–µ—Ö: Flash message "–ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω". –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ñ–æ–Ω–µ.
    *   –û—à–∏–±–∫–∞: –†–æ–ª–ª–±—ç–∫ UI (–∫–Ω–æ–ø–∫–∞ —Å–Ω–æ–≤–∞ —Å–µ—Ä–∞—è), Toast —Å –æ—à–∏–±–∫–æ–π "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å".

## 5. –°—Ü–µ–Ω–∞—Ä–∏–π: –¢—Ä–µ–∫–∏–Ω–≥ –î–æ–ø—É—Å–∫–∞ (Permit Flow)

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** –ù–∞–∂–∏–º–∞–µ—Ç –Ω–∞ —É–∑–µ–ª-–¥–æ–ø—É—Å–∫ "–≠–ª–µ–∫—Ç—Ä–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å II –≥—Ä—É–ø–ø–∞".
**UI (Sidebar):**
1.  –í–∏–¥–∏—Ç —Ñ–æ—Ä–º—É –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö –≤–º–µ—Å—Ç–æ –∫–Ω–æ–ø–∫–∏ "–ò–∑—É—á–∏–ª".
    *   –ü–æ–ª—è: `–ù–æ–º–µ—Ä —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏—è`, `–î–∞—Ç–∞ –≤—ã–¥–∞—á–∏`, `–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è (–∞–≤—Ç–æ–º–∞—Ç –∏–ª–∏ –≤—Ä—É—á–Ω—É—é)`.
2.  **Submit:** –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ä–º—É.
3.  **Validation:** –ï—Å–ª–∏ –¥–∞—Ç–∞ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–∞ ‚Äî –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (Inertia errors bag).
4.  **Success:** –£–∑–µ–ª —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–∏–Ω–∏–º ("–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ —É —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è") –∏–ª–∏ –∑–µ–ª–µ–Ω—ã–º (–µ—Å–ª–∏ –∞–≤—Ç–æ-–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ).

## 6. –ú–µ–Ω—Ç–æ—Ä/–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å (Review Flow)

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** –ù–∞—á–∞–ª—å–Ω–∏–∫ —Ü–µ—Ö–∞.
**UI (Dashboard):**
1.  –í–∏–¥–∏—Ç —Ç–∞–± "–û–∂–∏–¥–∞—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏" (3 –∑–∞—è–≤–∫–∏).
2.  –ö–ª–∏–∫–∞–µ—Ç –Ω–∞ –∑–∞—è–≤–∫—É –ò–≤–∞–Ω–æ–≤–∞ –ò.–ò.
3.  **Modal:** –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –¥–µ—Ç–∞–ª—è–º–∏ (–ù–∞–≤—ã–∫, –î–∞—Ç–∞, –ö–µ–º –≤—ã–¥–∞–Ω–æ).
4.  **Action:**
    *   ‚úÖ **–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å:** –£ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –Ω–∞–≤—ã–∫ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `verified`.
    *   ‚ùå **–û—Ç–∫–ª–æ–Ω–∏—Ç—å:** –ù—É–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ –ø—Ä–∏—á–∏–Ω—É (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ). –£ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –Ω–∞–≤—ã–∫ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –≤ `rejected` + —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.
